doctype html
html
  head
    title Formulario de Evolución del Paciente
    link(href="https://cdn.lineicons.com/4.0/lineicons.css", rel="stylesheet")
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css", rel="stylesheet")
    link(rel="stylesheet", href="css/styles.css")
    script(src="/js/frontConsulta.js") // Archivo JS para manejo dinámico
  body
    .container-fluid(style="background-image: url('images/background_modulos.png'); background-size: cover; background-attachment: fixed; min-height: 100vh;")
      .row
        .col-md-1
          include sidebar.pug

        .col-md-10
          .main.p-3
            h1 Consulta actual

            if paciente
              .card.mb-4
                .card-body
                  h2.text-center Datos del Paciente
                  //- Datos centrados en un contenedor
                  .text-center
                    p Nombre: #{paciente.nombre}
                    p Apellido: #{paciente.apellido}
                    p DNI: #{paciente.dni_paciente}
                    p Teléfono: #{paciente.telefono}
                    p Fecha de Nacimiento: #{paciente.fecha}
                    p Motivo consulta: #{paciente.motivo_consulta}
                    p Hora del turno: #{paciente.hora}
            else
              p No se encontraron datos del paciente.

            //- Formulario para la evolución del paciente
            h2.text-center Formulario de Evolución
            form(action="/submit" method="POST")
              .mb-3
                label(for="evolucion", class="form-label") Evolución:
                textarea#evolucion.form-control(name="evolucion" placeholder="Describir evolución del paciente" rows="3") 

              .mb-3
                label(for="diagnostico", class="form-label") Diagnóstico:
                textarea#diagnostico.form-control(name="diagnostico" placeholder="Ingresar diagnóstico" rows="3")

              .mb-3
                label(for="alergia", class="form-label") Alergias:
                div#alergiasContainer
                  input.form-control(type="text" name="alergia" placeholder="Ingrese una alergia")
                  button(type="button" id="addAlergia", class="btn btn-secondary mt-2") + Agregar otra alergia

              h3.text-center Antecedentes:
              div#antecedentesContainer
                .mb-3
                  input.form-control(type="text" name="antecedentes" placeholder="Ingresar antecedentes")
                  label(for="inicioAntecedentes", class="form-label") Inicio:
                  input(type="date" name="inicioAntecedentes", class="form-control")
                  label(for="finAntecedentes", class="form-label") Fin:
                  input(type="date" name="finAntecedentes", class="form-control")

              h3.text-center Hábitos:
              div#habitosContainer
                .mb-3
                  input.form-control(type="text" name="habitos" placeholder="Ingresar hábitos")
                  label(for="inicioHabitos", class="form-label") Inicio:
                  input(type="date" name="inicioHabitos", class="form-control")
                  label(for="finHabitos", class="form-label") Fin:
                  input(type="date" name="finHabitos", class="form-control")

              h3.text-center Medicamentos:
              div#medicamentosContainer
                .mb-3
                  input.form-control(type="text" name="medicamento[]" placeholder="Ingresar medicamento")
                  button(type="button" id="addMedicamento", class="btn btn-secondary mt-2") + Agregar otro medicamento

              //- Botón de envío
              button(type="submit", class="btn btn-primary") Guardar

    //- Incluyendo el archivo JS para manejar el sidebar
    script(src='/js/sidebar.js')
